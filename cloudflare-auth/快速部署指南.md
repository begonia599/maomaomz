# 🚀 5分钟快速部署指南

## 第1步：创建 KV 存储（1分钟）

1. 在你的 Cloudflare 控制台 → **Workers 和 Pages**
2. 点击顶部 **KV** 标签
3. 点击 **创建命名空间**
4. 名称输入：`AUTH_CODES`
5. 创建后，**复制显示的 ID**

✅ 完成！现在你有了数据库。

---

## 第2步：创建 Worker（2分钟）

1. 返回 **Workers 和 Pages** 主页
2. 点击 **创建** → **创建 Worker**
3. 名称：`maomaomz-auth`
4. 点击 **部署**
5. 点击 **编辑代码**
6. **删除全部代码**
7. **粘贴 `worker.js` 的全部内容**
8. 点击 **保存并部署**

✅ 后端部署完成！

---

## 第3步：配置绑定（1分钟）

在 Worker 页面：

### A. 绑定 KV
1. **设置** 标签 → **变量和机密**
2. 找到 **KV 命名空间绑定**
3. 点击 **添加绑定**
4. 变量名称：`AUTH_CODES`（必须一致）
5. KV 命名空间：选择你刚创建的
6. **保存**

### B. 设置管理员密钥
1. 同样在 **变量和机密**
2. 找到 **环境变量** → **加密**
3. 点击 **添加变量**
4. 名称：`ADMIN_SECRET`（必须一致）
5. 值：输入你的密钥（例如：`MySecretKey123!@#`）
6. 选择 **加密**
7. **保存**

✅ 配置完成！

---

## 第4步：测试使用（1分钟）

1. 访问你的 Worker URL（例如：`https://maomaomz-auth.xxx.workers.dev`）
2. 看到漂亮的管理页面
3. 输入管理员密钥
4. 点击 **🎲 自动生成** 授权码
5. 点击 **🚀 更新授权码**
6. 看到 "✅ 授权码更新成功！"

🎉 **全部完成！现在可以发布授权码了！**

---

## 📝 每天发布授权码流程（30秒）

1. 访问管理页面
2. 点击 **🎲 自动生成**
3. 点击 **🚀 更新授权码**
4. 点击 **📋 复制到剪贴板**
5. 去 Discord 发帖！

---

## 🆘 遇到问题？

### 问题1：看到 "管理员密钥错误"
→ 检查你在第3步设置的密钥是否正确

### 问题2：页面显示 "current_code is not defined"
→ KV 绑定没配置好，重新检查第3步的 KV 绑定

### 问题3：授权码不生效
→ 确保变量名称 `AUTH_CODES` 和 `ADMIN_SECRET` 完全一致（区分大小写）

---

## 🔗 你的 Worker URL

部署完成后，你的管理页面地址是：
```
https://maomaomz-auth.你的用户名.workers.dev/
```

把这个地址保存好，以后每天都要用到！

---

**准备好了？开始部署吧！** 🚀

